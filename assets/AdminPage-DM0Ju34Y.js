import{u as y,r as M,j as e,M as s,L as h}from"./index-Bg0WasCx.js";const F=()=>{const n=y(),[a,c]=M.useState({title:"",titleEn:"",description:"",descriptionEn:"",tags:"",tagsEn:"",category:"",categoryEn:"",markdown:"",markdownEn:"",author:"",readingTime:""}),r=t=>{const{name:i,value:d}=t.target;c(l=>({...l,[i]:d}))},x=()=>`article-${Date.now()}`,m=t=>t.split(",").map(i=>i.trim()).filter(i=>i),g=()=>new Date().toISOString().split("T")[0],p=t=>({id:t,title:a.title,"title.en":a.titleEn,date:g(),filename:`articles/${t}.json`,description:a.description,"description.en":a.descriptionEn,tags:m(a.tags),"tags.en":m(a.tagsEn),category:a.category,"category.en":a.categoryEn,metadata:{readingTime:a.readingTime||"5 min"}}),j=t=>({id:t,title:a.title,"title.en":a.titleEn,date:g(),description:a.description,"description.en":a.descriptionEn,tags:m(a.tags),"tags.en":m(a.tagsEn),category:a.category,"category.en":a.categoryEn,markdown:a.markdown,"markdown.en":a.markdownEn,metadata:{author:a.author||"Mini Blog Team",readingTime:a.readingTime||"5 min"}}),u=(t,i)=>{const d=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),l=URL.createObjectURL(d),o=document.createElement("a");o.href=l,o.download=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(l)},f=async()=>{try{const t=x(),i=p(t),d=j(t),o=await(await fetch("/data/articles.json")).json(),v=[i,...o];u(v,"articles.json"),u(d,`${t}.json`),c({title:"",titleEn:"",description:"",descriptionEn:"",tags:"",tagsEn:"",category:"",categoryEn:"",markdown:"",markdownEn:"",author:"",readingTime:""}),alert(n.formatMessage({id:"adminForm.exportSuccess",defaultMessage:"Soubory byly úspěšně exportovány!"}))}catch(t){console.error("Error exporting files:",t),alert(n.formatMessage({id:"adminForm.exportError",defaultMessage:"Chyba při exportu souborů!"}))}},E=t=>{t.preventDefault(),f()};return e.jsx("div",{className:"admin-page",children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"admin-page__header",children:[e.jsx("h1",{className:"admin-page__title",children:e.jsx(s,{id:"adminPage.title",defaultMessage:"Admin Panel - Přidat nový článek"})}),e.jsxs(h,{to:"/",className:"admin-page__back-link",children:["← ",e.jsx(s,{id:"adminPage.backToHome",defaultMessage:"Zpět na hlavní stránku"})]})]}),e.jsxs("form",{className:"admin-form",onSubmit:E,children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h2",{children:e.jsx(s,{id:"adminPage.basicInfo",defaultMessage:"Základní informace"})}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"title",children:[e.jsx(s,{id:"adminForm.titleCs",defaultMessage:"Název (CS)"})," *"]}),e.jsx("input",{type:"text",id:"title",name:"title",value:a.title,onChange:r,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"titleEn",children:[e.jsx(s,{id:"adminForm.titleEn",defaultMessage:"Název (EN)"})," *"]}),e.jsx("input",{type:"text",id:"titleEn",name:"titleEn",value:a.titleEn,onChange:r,required:!0})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h2",{children:e.jsx(s,{id:"adminPage.description",defaultMessage:"Popis"})}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"description",children:[e.jsx(s,{id:"adminForm.descriptionCs",defaultMessage:"Popis (CS)"})," *"]}),e.jsx("textarea",{id:"description",name:"description",value:a.description,onChange:r,rows:"3",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"descriptionEn",children:[e.jsx(s,{id:"adminForm.descriptionEn",defaultMessage:"Popis (EN)"})," *"]}),e.jsx("textarea",{id:"descriptionEn",name:"descriptionEn",value:a.descriptionEn,onChange:r,rows:"3",required:!0})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h2",{children:e.jsx(s,{id:"adminPage.tagsAndCategories",defaultMessage:"Štítky a kategorie"})}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"tags",children:[e.jsx(s,{id:"adminForm.tagsCs",defaultMessage:"Štítky (CS) - oddělené čárkami"})," *"]}),e.jsx("input",{type:"text",id:"tags",name:"tags",value:a.tags,onChange:r,placeholder:n.formatMessage({id:"adminForm.tagsCsPlaceholder",defaultMessage:"např: React, JavaScript, frontend"}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"tagsEn",children:[e.jsx(s,{id:"adminForm.tagsEn",defaultMessage:"Štítky (EN) - oddělené čárkami"})," *"]}),e.jsx("input",{type:"text",id:"tagsEn",name:"tagsEn",value:a.tagsEn,onChange:r,placeholder:n.formatMessage({id:"adminForm.tagsEnPlaceholder",defaultMessage:"e.g: React, JavaScript, frontend"}),required:!0})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"category",children:[e.jsx(s,{id:"adminForm.categoryCs",defaultMessage:"Kategorie (CS)"})," *"]}),e.jsx("input",{type:"text",id:"category",name:"category",value:a.category,onChange:r,placeholder:n.formatMessage({id:"adminForm.categoryCsPlaceholder",defaultMessage:"např: tutorial, technologie"}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"categoryEn",children:[e.jsx(s,{id:"adminForm.categoryEn",defaultMessage:"Kategorie (EN)"})," *"]}),e.jsx("input",{type:"text",id:"categoryEn",name:"categoryEn",value:a.categoryEn,onChange:r,placeholder:n.formatMessage({id:"adminForm.categoryEnPlaceholder",defaultMessage:"e.g: tutorial, technology"}),required:!0})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h2",{children:e.jsx(s,{id:"adminPage.content",defaultMessage:"Obsah"})}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"markdown",children:[e.jsx(s,{id:"adminForm.markdownCs",defaultMessage:"Markdown obsah (CS)"})," *"]}),e.jsx("textarea",{id:"markdown",name:"markdown",value:a.markdown,onChange:r,rows:"15",placeholder:n.formatMessage({id:"adminForm.markdownCsPlaceholder",defaultMessage:`# Nadpis článku

Váš obsah zde...`}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"markdownEn",children:[e.jsx(s,{id:"adminForm.markdownEn",defaultMessage:"Markdown obsah (EN)"})," *"]}),e.jsx("textarea",{id:"markdownEn",name:"markdownEn",value:a.markdownEn,onChange:r,rows:"15",placeholder:n.formatMessage({id:"adminForm.markdownEnPlaceholder",defaultMessage:`# Article Title

Your content here...`}),required:!0})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h2",{children:e.jsx(s,{id:"adminPage.metadata",defaultMessage:"Metadata"})}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"author",children:e.jsx(s,{id:"adminForm.author",defaultMessage:"Autor"})}),e.jsx("input",{type:"text",id:"author",name:"author",value:a.author,onChange:r,placeholder:n.formatMessage({id:"adminForm.authorPlaceholder",defaultMessage:"Mini Blog Team"})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"readingTime",children:e.jsx(s,{id:"adminForm.readingTime",defaultMessage:"Doba čtení"})}),e.jsx("input",{type:"text",id:"readingTime",name:"readingTime",value:a.readingTime,onChange:r,placeholder:n.formatMessage({id:"adminForm.readingTimePlaceholder",defaultMessage:"5 min"})})]})]})]}),e.jsxs("div",{className:"admin-form__actions",children:[e.jsx(h,{to:"/",className:"btn-secondary",children:e.jsx(s,{id:"adminForm.cancel",defaultMessage:"Zrušit"})}),e.jsx("button",{type:"submit",className:"btn-primary",children:e.jsx(s,{id:"adminForm.export",defaultMessage:"Exportovat soubory"})})]})]})]})})};export{F as default};
